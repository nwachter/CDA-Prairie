let map = [];

function initMap() {
  map = [];

  // Ligne 0
  map[0] = [
    10, 10, 10, 10, 10, 10, 5, 5, 5, 15, 15, 15, 5, 5, 10, 10, 5, 5, 5, 5, 5, 5,
    5, 10, 20, 25, 20, 10, 10, 20, 25, 20, 10, 20, 20, 10, 10, 10, 5, 10,
  ];
  // Ligne 1
  map[1] = [
    20, 25, 25, 25, 25, 25, 25, 20, 5, 15, 15, 20, 25, 25, 25, 20, 10, 10, 20,
    20, 20, 20, 25, 25, 20, 10, 10, 20, 25, 25, 25, 25, 25, 25, 25, 20, 20, 20,
    20, 20,
  ];
  // Ligne 2
  map[2] = [
    20, 20, 20, 20, 20, 20, 20, 20, 10, 15, 15, 20, 20, 10, 20, 20, 5, 5, 20,
    20, 20, 25, 25, 25, 25, 10, 10, 20, 20, 20, 20, 20, 25, 25, 20, 10, 10, 10,
    10, 5,
  ];
  // Ligne 3
  map[3] = [
    20, 20, 20, 10, 5, 5, 5, 5, 15, 15, 15, 5, 5, 5, 15, 15, 15, 15, 15, 15, 5,
    5, 10, 10, 10, 10, 10, 10, 10, 10, 10, 20, 20, 25, 20, 20, 20, 5, 5, 5,
  ];
  // Ligne 4
  map[4] = [
    10, 10, 5, 5, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15,
    15, 15, 15, 5, 10, 0, 0, 10, 5, 5, 10, 20, 25, 25, 25, 25, 25, 20, 10, 10,
    10,
  ];
  // Ligne 5
  map[5] = [
    10, 10, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15,
    15, 15, 15, 5, 10, 10, 10, 0, 0, 10, 20, 20, 20, 20, 10, 20, 20, 20, 10, 10,
    5,
  ];
  // Ligne 6
  map[6] = [
    10, 10, 15, 15, 5, 5, 10, 5, 5, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15,
    15, 5, 5, 10, 10, 10, 10, 0, 10, 20, 20, 20, 0, 0, 0, 0, 0, 5, 10, 10,
  ];
  // Ligne 7
  map[7] = [
    5, 15, 15, 5, 10, 10, 10, 10, 10, 10, 15, 15, 15, 15, 15, 15, 15, 15, 15, 5,
    10, 10, 10, 10, 10, 10, 10, 0, 0, 0, 0, 0, 0, 25, 20, 25, 20, 25, 5, 5,
  ];
  // Ligne 8
  map[8] = [
    15, 15, 15, 15, 5, 10, 10, 10, 10, 5, 15, 15, 15, 15, 15, 15, 15, 5, 10, 10,
    10, 10, 10, 10, 10, 10, 5, 5, 0, 5, 10, 10, 20, 25, 25, 25, 25, 25, 25, 25,
  ];
  // Ligne 9
  map[9] = [
    15, 15, 15, 15, 15, 5, 10, 5, 5, 15, 15, 15, 15, 15, 15, 15, 5, 10, 10, 10,
    10, 10, 10, 10, 10, 5, 5, 0, 0, 5, 5, 5, 20, 20, 25, 25, 25, 20, 20, 20,
  ];
  // Ligne 10
  map[10] = [
    15, 15, 15, 15, 15, 5, 5, 5, 15, 15, 15, 15, 15, 15, 15, 15, 15, 5, 10, 10,
    10, 10, 10, 10, 10, 5, 0, 0, 5, 5, 5, 5, 5, 5, 20, 25, 25, 20, 10, 10,
  ];
  // Ligne 11
  map[11] = [
    15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15,
    5, 10, 10, 10, 10, 10, 5, 0, 5, 5, 5, 5, 5, 5, 5, 5, 5, 20, 25, 20, 10,
  ];
  // Ligne 12
  map[12] = [
    15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 5, 5, 5, 5, 5, 5, 15, 5,
    10, 10, 5, 15, 15, 0, 15, 15, 5, 5, 5, 5, 5, 5, 5, 20, 20, 5, 15,
  ];
  // Ligne 13
  map[13] = [
    15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 20, 25, 25, 10, 20, 20, 5,
    5, 15, 5, 5, 15, 5, 10, 0, 5, 5, 15, 5, 5, 5, 5, 5, 20, 20, 5, 15, 10,
  ];
  // Ligne 14
  map[14] = [
    15, 15, 15, 15, 15, 15, 15, 15, 15, 5, 20, 20, 20, 20, 20, 20, 20, 20, 20,
    20, 5, 15, 15, 5, 5, 10, 10, 10, 10, 5, 15, 5, 5, 5, 5, 5, 15, 15, 5, 5,
  ];
  // Ligne 15
  map[15] = [
    15, 15, 15, 15, 15, 15, 15, 5, 20, 20, 20, 10, 10, 5, 20, 25, 25, 25, 20,
    20, 5, 15, 5, 5, 10, 10, 10, 10, 10, 10, 5, 15, 15, 15, 15, 15, 5, 5, 10,
    10,
  ];
  // Ligne 16
  map[16] = [
    15, 15, 15, 15, 5, 5, 10, 20, 20, 25, 25, 25, 25, 20, 20, 25, 25, 20, 20,
    20, 5, 15, 5, 10, 10, 10, 10, 10, 10, 10, 10, 5, 5, 15, 5, 5, 5, 10, 10, 10,
  ];
  // Ligne 17
  map[17] = [
    15, 15, 15, 5, 10, 10, 10, 10, 20, 20, 25, 25, 20, 20, 20, 20, 20, 20, 25,
    20, 0, 0, 0, 10, 10, 10, 10, 10, 10, 10, 10, 5, 10, 5, 5, 5, 10, 10, 10, 10,
  ];
  // Ligne 18
  map[18] = [
    15, 15, 0, 10, 10, 10, 10, 10, 20, 20, 20, 25, 25, 25, 20, 20, 20, 20, 25,
    20, 0, 15, 5, 10, 10, 10, 10, 10, 10, 5, 5, 5, 5, 5, 10, 10, 10, 10, 10, 10,
  ];
  // Ligne 19
  map[19] = [
    15, 5, 0, 0, 0, 5, 10, 20, 20, 20, 20, 25, 25, 25, 20, 20, 10, 5, 5, 0, 0,
    5, 5, 5, 5, 5, 0, 5, 5, 5, 10, 10, 5, 10, 10, 10, 10, 10, 10, 10,
  ];
  // Ligne 20
  map[20] = [
    5, 5, 10, 10, 0, 0, 5, 10, 20, 20, 25, 25, 25, 20, 20, 5, 5, 5, 0, 0, 15, 5,
    5, 5, 5, 5, 0, 0, 0, 0, 10, 5, 5, 10, 10, 10, 10, 10, 10, 10,
  ];
  // Ligne 21
  map[21] = [
    5, 10, 10, 10, 10, 0, 0, 5, 5, 20, 20, 20, 20, 10, 5, 0, 0, 0, 0, 15, 5, 5,
    5, 5, 5, 5, 0, 5, 5, 0, 0, 5, 10, 10, 10, 10, 10, 10, 10, 10,
  ];
  // Ligne 22
  map[22] = [
    10, 10, 10, 10, 10, 10, 0, 5, 5, 5, 20, 20, 10, 0, 0, 0, 15, 15, 5, 5, 5, 5,
    5, 5, 5, 0, 0, 5, 5, 5, 0, 0, 10, 10, 10, 10, 10, 10, 10, 10,
  ];
  // Ligne 23
  map[23] = [
    10, 10, 10, 10, 10, 10, 0, 5, 5, 5, 5, 5, 5, 0, 5, 15, 15, 5, 5, 5, 5, 5, 5,
    5, 0, 0, 5, 5, 5, 5, 5, 0, 10, 10, 10, 10, 10, 10, 10, 10,
  ];
  // Ligne 24
  map[24] = [
    5, 5, 10, 10, 10, 10, 10, 10, 10, 5, 5, 5, 0, 0, 15, 15, 5, 5, 10, 10, 5, 5,
    10, 0, 0, 5, 5, 5, 5, 5, 5, 0, 0, 10, 10, 10, 10, 10, 10, 10,
  ];
  // Ligne 25
  map[25] = [
    5, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 5, 0, 5, 15, 15, 5, 5, 10, 10,
    10, 5, 0, 0, 5, 5, 5, 5, 5, 5, 5, 5, 0, 10, 10, 10, 10, 10, 10, 10,
  ];
  // Ligne 26
  map[26] = [
    10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 0, 0, 5, 15, 15, 5, 5, 5, 5, 5,
    5, 0, 5, 5, 5, 5, 5, 5, 5, 5, 5, 0, 0, 5, 10, 10, 10, 10, 10,
  ];
  // Ligne 27
  map[27] = [
    10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 0, 0, 5, 5, 5, 15, 15, 15, 5, 5, 5,
    5, 0, 5, 5, 5, 5, 5, 5, 10, 10, 10, 10, 0, 0, 10, 10, 10, 10, 5,
  ];
  // Ligne 28
  map[28] = [
    10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 5, 5, 5, 5, 15, 15, 15,
    5, 10, 0, 10, 10, 10, 5, 5, 5, 10, 10, 10, 10, 10, 0, 5, 5, 5, 5, 10,
  ];
  // Ligne 29
  map[29] = [
    10, 10, 10, 10, 5, 5, 10, 10, 10, 10, 10, 10, 10, 10, 5, 5, 5, 5, 15, 15, 5,
    10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 0, 0, 5, 5, 5, 5,
  ];
  // Ligne 30
  map[30] = [
    10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 5, 5, 5, 15, 15,
    5, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 5, 0, 0, 5, 5, 5,
  ];
  // Ligne 31
  map[31] = [
    5, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 5, 5, 5, 5, 5, 5, 15, 15, 5,
    10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 5, 5, 0, 0, 0, 0,
  ];

  drawMap();
}

// Dessiner la carte
function drawMap() {
  const mapDiv = document.getElementById("map");
  if (mapDiv) {
    mapDiv.innerHTML = "";

    for (let y = 0; y < 32; y++) {
      for (let x = 0; x < 40; x++) {
        const cell = document.createElement("div");
        cell.className = `cell color-${map[y][x]}`;
        cell.onclick = () => changeCell(x, y);
        mapDiv.appendChild(cell);
      }
    }
  }
}

// Changer une cellule
function changeCell(x, y) {
  const colorSelect = document.getElementById("colorSelect");
  if (colorSelect) {
    const color = parseInt(colorSelect.value);
    map[y][x] = color;
    drawMap();
  }
}

// Générer aléatoire
function randomize() {
  const colors = [0, 5, 10, 15, 20, 25];
  for (let y = 0; y < 32; y++) {
    for (let x = 0; x < 40; x++) {
      map[y][x] = colors[Math.floor(Math.random() * colors.length)];
    }
  }
  drawMap();
}

initMap();
